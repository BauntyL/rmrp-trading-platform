# АвтоКаталог

Русскоязычный автомобильный каталог с системой ролей, модерацией и файловым хранилищем.

## Возможности

- **Система ролей**: Пользователь, Модератор, Администратор
- **Каталог автомобилей**: Просмотр, поиск, фильтрация по категориям и серверам
- **Избранное**: Сохранение понравившихся автомобилей
- **Модерация**: Система подачи и одобрения заявок на добавление автомобилей
- **Управление**: Редактирование и удаление автомобилей для модераторов
- **Файловое хранилище**: Автоматическое сохранение данных в файлы

## Предустановленный аккаунт администратора

- **Логин**: 477-554
- **Пароль**: lql477kqkvb55vp

## Развертывание на Render.com

### Метод 1: Через файл render.yaml (рекомендуется)

1. Склонируйте репозиторий на GitHub
2. В Render.com создайте новый веб-сервис
3. Подключите ваш GitHub репозиторий
4. Render автоматически обнаружит файл `render.yaml` и настроит сервис

### Метод 2: Ручная настройка

1. Создайте новый **Web Service** в Render.com
2. Подключите ваш GitHub репозиторий
3. Настройте следующие параметры:

**Основные настройки:**
- **Environment**: Node
- **Build Command**: `npm install && npm run build`
- **Start Command**: `npm start`
- **Node Version**: 18.x или выше

**Переменные окружения:**
- `NODE_ENV` = `production`
- `SESSION_SECRET` = (сгенерируйте случайную строку длиной 32+ символа)

**Диск (опционально, для сохранения данных):**
- **Mount Path**: `/opt/render/project/src/data`
- **Size**: 1 GB

### Структура проекта

```
├── client/                 # React фронтенд
│   ├── src/
│   │   ├── components/     # UI компоненты
│   │   ├── pages/         # Страницы приложения
│   │   ├── hooks/         # React хуки
│   │   └── lib/           # Утилиты
├── server/                # Express сервер
│   ├── index.ts          # Точка входа
│   ├── routes.ts         # API маршруты
│   ├── auth.ts           # Аутентификация
│   └── storage.ts        # Файловое хранилище
├── shared/               # Общие типы и схемы
├── data/                 # Файлы данных (создается автоматически)
└── render.yaml          # Конфигурация Render

```

### Особенности развертывания

1. **Файловое хранилище**: Приложение использует файловое хранилище вместо базы данных для простоты развертывания
2. **Автоматическая инициализация**: При первом запуске создается администратор по умолчанию
3. **Сессии**: Используется in-memory хранилище сессий
4. **Статические файлы**: Фронтенд собирается и обслуживается Express сервером

### Локальная разработка

```bash
# Установка зависимостей
npm install

# Запуск в режиме разработки
npm run dev

# Сборка для продакшена
npm run build

# Запуск продакшен версии
npm start
```

Приложение будет доступно по адресу http://localhost:3000

### Структура данных

Все данные сохраняются в директории `data/` в JSON формате:
- `users.json` - пользователи
- `cars.json` - автомобили  
- `applications.json` - заявки на модерацию
- `favorites.json` - избранные автомобили

### Технологии

**Фронтенд:**
- React 18
- TypeScript
- Tailwind CSS + shadcn/ui
- TanStack Query
- Wouter (роутинг)
- React Hook Form + Zod

**Бэкенд:**
- Node.js + Express
- TypeScript
- Passport.js (аутентификация)
- Express Session
- Файловое хранилище